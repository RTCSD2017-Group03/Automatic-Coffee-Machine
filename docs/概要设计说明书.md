<center><font face="微软雅黑" size=5>自动咖啡机概要设计说明书</font></center>

<font face="微软雅黑">

# 1 引言

本项目是华中科技大学2017年14级机械本科《实施控制软件设计》课程第四次作业，也是课程设计的作业内容。需要各小组组成开发团队进行协同合作。本小组成员以及分工如下：

* 张照博 （C语言代码编写、软件设计规格书撰写）
* 彭彦毓 （物理建模、模块导出）
* 陈志平 （C语言代码编写、Debug）
* 李佳杰 （单元测试、概要设计说明书）
* 刘玉松 （项目总结、说明文档）

### 1.1编写目的

本文档用于指导自动咖啡机硬件及软件开发过程，与软件用户定义和明确软件的功能需求。本文档的目标读者为软件用户和软件开发项目组成员。

### 1.2背景

用户在咖啡机面板上选择自己想要喝的咖啡（美式、拿铁、卡布奇诺...）并按下开始按钮后，咖啡机开始按照设定的配方制作咖啡。

### 1.3定义

自动咖啡机能依靠机械电动磨粉、填充和烧煮咖啡，全部免除了手工的操作。或称全自动咖啡机，内部装有电子控制系统，用来控制磨豆粗细的调节，每杯的水量。

### 1.4参考资料

[自动咖啡机_百度百科](https://baike.baidu.com/item/%E8%87%AA%E5%8A%A8%E5%92%96%E5%95%A1%E6%9C%BA/342029)
[全自动咖啡机_百度百科](https://baike.baidu.com/item/%E5%85%A8%E8%87%AA%E5%8A%A8%E5%92%96%E5%95%A1%E6%9C%BA/342271?fr=aladdin)

# 2总体设计


### 2.1 需求规定

需要提供三种咖啡，美式咖啡（沸水和咖啡粉），拿铁（咖啡粉，沸水，牛奶），卡布奇洛（咖啡粉，沸水，糖、牛奶）


### 2.2 运行环境

* 操作系统在WindowsXP以上
* 客户端具备Matlab 2014

### 2.3 基本设计概念和处理流程

![](http://images2017.cnblogs.com/blog/1240632/201710/1240632-20171023224618785-1729124961.png)

### 2.4 模块总体设计
#### Container 液体容器，用于保存各种液体
#### Doser 定量器，用于量取一定量的液体
#### Heater 加热器，用于提供热水
#### Brewing Assembly 混合器，用于将咖啡，牛奶，糖和热水混合
#### Cup Feeder 杯架，用于提供纸杯
#### Conveyor Belt 传输带，用于物体传输
#### Control System 核心控制模块，用于各模块之间的调度

### Container
#### SettingFlow（Input）当前出口开关大小
#### Amount（Output）当前液体余量
#### OutFlow（Output）当前液体实际流出流量
### Doser
#### Inflow（Input）当前液体实际流入流量
#### SettingAmount（Input）液体需要量取的量
#### OutFlow当前液体实际流出流量
#### \*\*\*DoserEvent（Output）Doser完成操作的事件
#### FlowControl（Output）控制对应容器的出口流量
### Heater
#### SettingFlow（Input）当前出口开关大小
#### OutFlow（Output）当前热水实际流出流量
#### WaterAmount（Output）当前可用热水余量
#### WaterTemp（Output）当前热水温度
### Brewing Assembly
#### WaterInput（Input）热水流入流量
#### CoffeeInput（Input）咖啡流入流量
#### MilkInput（Input）牛奶流入流量
#### SugarInput（Input）糖流入流量
#### Mixtrue（Output）混合液体输出流量
#### MixFinishEvent（Output）混合完成的事件
### Cup Feeder
#### GetCup（Input）需要杯子的事件
#### JustaCup（Output）杯子的输出
#### FeedFinishEvent（Output）供应杯子完成的事件
#### CupRemain（Output）当前是否有杯子剩余
### Conveyor Belt
#### Step（Input）每次步进的距离
#### AddMixtrue（Input）混合液体入口
#### AddCup（Input）杯子入口
#### TakeOutEvent（Input）杯子被拿走的事件
#### JustaCupofCoffee（Output）一杯咖啡的输出
#### StepEvent（Output）步进完成的事件
### Control System
#### CoffeeRemain（Input）当前剩余咖啡的输入
#### MilkRemain（Input）当前剩余牛奶的输入
#### SugarRemain（Input）当前剩糖的输入
#### WaterRemain（Input）当前剩余水的输入
#### WaterTemp（Input）当前水温的输入
#### CoffeeAmount（Output）需要咖啡的量
#### MilkAmount（Output）需要牛奶的量
#### SugarAmount（Output）需要糖的量
#### WaterAmount（Output）需要水的量
#### NextStep（Output）：每次步进的量
#### GetCupEvent（Output）：需要被子的事件

### 2.5 功能需求与程序的关系


![](http://images2017.cnblogs.com/blog/1240632/201710/1240632-20171023224633019-2089785113.png)

### 2.6 人工处理过程

无

### 2.7 尚未解决的问题

无

# 3 接口设计
### 3.1用户接口

三个按钮，取杯口

### 3.2 外部接口

无

### 3.3 内部接口

各个模块之间采用信号传递、返回值得方式进行信息传递。

# 4 运行设计
### 4.1 运行模块组合

系统是以基于simulink的开发工具下开发完成

### 4.2 运行控制

Feeder机构取一空杯放到传送带上，传送带把空杯送到龙头下，牛奶、糖浆、浓缩咖啡液和热水按照配方比例混合后装入空杯，传送带把满杯的咖啡送到用户取杯处，用户取走咖啡后，自动咖啡机可以继续响应面板上的按钮制作下一杯咖啡。

### 4.3 运行时间

无

# 5 系统数据结构设计

无

### 5.1逻辑结构设计要点

无

###### 5.2 物理结构设计要点

无

### 5.3数据结构与程序的关系

无

### 6 系统出错处理设计
### 6.1 出错信息

出错就出发出error信号

### 6.2 补救措施
没有
### 6.3系统维护设计
出现error信号之后停止一切工作






</font>
